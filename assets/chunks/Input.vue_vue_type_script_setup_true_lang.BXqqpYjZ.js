import{d as D,am as N,p as d,q as U,h as _,c as l,o as a,n as j,ag as C,F as q,e as n,j as F,r as i,an as E,K as M,k as P,b as y,Z as v,ao as K}from"./framework.WzWNmwlG.js";import{_ as h}from"./Icon.vue_vue_type_script_setup_true_lang.Bzo44T0L.js";const S={key:0,class:"my-input__prepend"},T={class:"my-input__wrapper"},Z={key:0,class:"my-input__prefix"},G=["type","disabled","placeholder","readonly","autocomplete","autofocus","form"],H={key:1,class:"my-input__suffix"},J={key:1,class:"my-input__append"},L=["disabled","readonly","autocomplete","placeholder","autofocus","form"],W=D({name:"myInput",__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(I,{expose:z,emit:R}){const t=I,o=R,w=N(),s=d(t.modelValue),r=d(!1),u=d(!1),m=d();U(()=>t.modelValue,e=>{s.value=e});const b=()=>{o("update:modelValue",s.value),o("input",s.value)},k=()=>{o("change",s.value)},$=_(()=>t.clearable&&!t.disabled&&!!s.value&&r.value),g=e=>{r.value=!0,o("focus",e)},V=e=>{console.log("blur triggered"),r.value=!1,o("blur",e)},A=()=>{s.value="",o("update:modelValue",s.value),o("clear"),o("input",""),o("change","")},f=_(()=>t.showPassword&&!t.disabled&&!!s.value),B=()=>{u.value=!u.value};return z({ref:m}),(e,p)=>(a(),l("div",{class:j(["my-input",{[`my-input--${e.type}`]:e.type,[`my-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":r.value}])},[e.type!=="textarea"?(a(),l(q,{key:0},[e.$slots.prepend?(a(),l("div",S,[i(e.$slots,"prepend")])):n("",!0),F("div",T,[e.$slots.prefix?(a(),l("span",Z,[i(e.$slots,"prefix")])):n("",!0),C(F("input",M({class:"my-input__inner"},P(w),{ref_key:"inputRef",ref:m,type:e.showPassword?u.value?"text":"password":e.type,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,"onUpdate:modelValue":p[0]||(p[0]=c=>s.value=c),autocomplete:e.autocomplete,autofocus:e.autofocus,form:e.form,onInput:b,onChange:k,onFocus:g,onBlur:V}),null,16,G),[[E,s.value]]),e.$slots.suffix||$.value||f.value?(a(),l("span",H,[i(e.$slots,"suffix"),$.value?(a(),y(h,{key:0,icon:"circle-xmark",class:"my-input__clear",onMousedown:v(A,["prevent"])})):n("",!0),f.value&&u.value?(a(),y(h,{key:1,icon:"eye",class:"my-input__password",onMousedown:v(B,["prevent"])})):n("",!0),f.value&&!u.value?(a(),y(h,{key:2,icon:"eye-slash",class:"my-input__password",onMousedown:v(B,["prevent"])})):n("",!0)])):n("",!0)]),e.$slots.append?(a(),l("div",J,[i(e.$slots,"append")])):n("",!0)],64)):C((a(),l("textarea",M({key:1,class:"my-textarea__wrapper"},P(w),{ref_key:"inputRef",ref:m,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":p[1]||(p[1]=c=>s.value=c),onInput:b,onFocus:g,onChange:k,onBlur:V}),"      ",16,L)),[[K,s.value]])],2))}});export{W as _};
